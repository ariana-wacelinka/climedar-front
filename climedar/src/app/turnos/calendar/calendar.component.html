<div class="app-container">
    <mat-toolbar color="primary" class="header">
      <div class="logo">
        <mat-icon>local_hospital</mat-icon>
        <span>Climedar</span>
      </div>
      <button mat-button>Cerrar sesión</button>
    </mat-toolbar>

    <div class="content">
      <mat-card class="calendar-container">
        <mat-card-header>
          <mat-card-title>Turnos disponibles</mat-card-title>
          <div class="month-navigation">
            <button mat-icon-button (click)="changeMonth('prev')">
              <mat-icon>chevron_left</mat-icon>
            </button>
            <span class="month-label">{{ currentDate | date:'MMMM yyyy':'':'es' }}</span>
            <button mat-icon-button (click)="changeMonth('next')">
              <mat-icon>chevron_right</mat-icon>
            </button>
          </div>
        </mat-card-header>

        <mat-card-content>
          <div class="filters">
            <mat-form-field appearance="outline">
              <mat-label>Especialidad</mat-label>
              <mat-select [formControl]="especialidadControl">
                <mat-option>Todas</mat-option>
                <mat-option *ngFor="let esp of especialidades" [value]="esp">
                  {{esp}}
                </mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Médico</mat-label>
              <mat-select [formControl]="medicoControl">
                <mat-option>Todos</mat-option>
                <mat-option *ngFor="let med of medicos" [value]="med">
                  {{med}}
                </mat-option>
              </mat-select>
            </mat-form-field>
          </div>

          <div class="calendar">
            <div class="calendar-header">
              <div *ngFor="let dia of diasSemana" class="calendar-cell header-cell">
                {{dia}}
              </div>
            </div>

            <div class="calendar-grid">
              <ng-container *ngFor="let empty of emptyDays">
                <div class="calendar-cell empty-cell"></div>
              </ng-container>

              <div *ngFor="let day of monthDays" 
                   class="calendar-cell day-cell"
                   [class.other-month]="!isSameMonth(day)"
                   (click)="openTurnosDialog(day)">
                <span class="day-number">{{day | date:'d'}}</span>
                <div *ngIf="tieneTurnos(day)" class="turnos-indicator"></div>
              </div>
            </div>
          </div>
        </mat-card-content>
      </mat-card>
    </div>
  </div>